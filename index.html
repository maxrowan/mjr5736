<!-- my file | displays map -->

<!DOCTYPE html>
<html>
    <head>
        <title>Test App</title>
        <style>
            #map {
                height: 100%;
            }
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
        </style>
    </head>   
    <body>
        <script src="/socket.io/socket.io.js"></script>
        <div id="map"></div>
        <script>
            // declare map and heatmap
            var map, heatmap;
            
            // initialize map
            function initMap() {
                var behrend = {lat: 42.119308, lng: -79.983714};
                map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 4,
                    center: behrend,
                });
                heatmap = new google.maps.visualization.HeatmapLayer({
                    data: markers,
                    map: map,
                    radius: 16
                });
            }
            
            var socket = io();//'http://localhost:3000');
            
            // add point to array and show it on map when it's received from the server
            socket.on('tweetEvent', function(geoPoint) {
                console.log('tweet');
                var marker = new google.maps.LatLng(geoPoint.lat, geoPoint.lng);
                
                // add marker to heatmap
                heatmap.getData().push(marker);
      
            });



        </script>
        <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
        </script>
        <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzGR5wXQnCOVePY_Fk2M9t-X416Ubwjcc&libraries=visualization&callback=initMap">
    </script>
    </body>
</html>